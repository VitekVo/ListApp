{"ast":null,"code":"import React,{useContext,useEffect}from\"react\";import{ListDetailContext}from\"../../providers/ListDetailProvider\";import{UserContext}from\"../../providers/UserProvider\";import{useNavigate}from\"react-router-dom\";import ControlPanel from\"./ControlPanel\";import ItemOverview from\"./ItemOverview\";import TopBarDetail from\"./TopBarDetail\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ListDetail(){const{list}=useContext(ListDetailContext);const{loggedInUser}=useContext(UserContext);const navigate=useNavigate();const userHasAccess=loggedInUser===list.host||list.guests.includes(loggedInUser);useEffect(()=>{if(!userHasAccess){const timer=setTimeout(()=>{navigate(\"/\");},3000);return()=>clearTimeout(timer);}},[userHasAccess,navigate]);if(!userHasAccess){return/*#__PURE__*/_jsxs(\"div\",{className:\"access-denied\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You do not have access to this list. Redirecting to List Overview...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"list-detail\",children:[/*#__PURE__*/_jsx(TopBarDetail,{}),/*#__PURE__*/_jsx(ControlPanel,{}),/*#__PURE__*/_jsx(ItemOverview,{})]});}export default ListDetail;","map":{"version":3,"names":["React","useContext","useEffect","ListDetailContext","UserContext","useNavigate","ControlPanel","ItemOverview","TopBarDetail","jsx","_jsx","jsxs","_jsxs","ListDetail","list","loggedInUser","navigate","userHasAccess","host","guests","includes","timer","setTimeout","clearTimeout","className","children"],"sources":["/Users/vojtechvitek/Projects/ListApp/client/src/components/list_detail/ListDetail.js"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { ListDetailContext } from \"../../providers/ListDetailProvider\";\nimport { UserContext } from \"../../providers/UserProvider\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport ControlPanel from \"./ControlPanel\";\nimport ItemOverview from \"./ItemOverview\";\nimport TopBarDetail from \"./TopBarDetail\";\n\nfunction ListDetail() {\n  const { list } = useContext(ListDetailContext);\n  const { loggedInUser } = useContext(UserContext);\n\n  const navigate = useNavigate();\n\n  const userHasAccess =\n    loggedInUser === list.host || list.guests.includes(loggedInUser);\n\n  useEffect(() => {\n    if (!userHasAccess) {\n      const timer = setTimeout(() => {\n        navigate(\"/\");\n      }, 3000);\n\n      return () => clearTimeout(timer);\n    }\n  }, [userHasAccess, navigate]);\n\n  if (!userHasAccess) {\n    return (\n      <div className=\"access-denied\">\n        <h3>Access Denied</h3>\n        <p>\n          You do not have access to this list. Redirecting to List Overview...\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"list-detail\">\n      <TopBarDetail />\n      <ControlPanel />\n      <ItemOverview />\n    </div>\n  );\n}\n\nexport default ListDetail;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACpD,OAASC,iBAAiB,KAAQ,oCAAoC,CACtE,OAASC,WAAW,KAAQ,8BAA8B,CAC1D,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,KAAM,CAAEC,IAAK,CAAC,CAAGb,UAAU,CAACE,iBAAiB,CAAC,CAC9C,KAAM,CAAEY,YAAa,CAAC,CAAGd,UAAU,CAACG,WAAW,CAAC,CAEhD,KAAM,CAAAY,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAY,aAAa,CACjBF,YAAY,GAAKD,IAAI,CAACI,IAAI,EAAIJ,IAAI,CAACK,MAAM,CAACC,QAAQ,CAACL,YAAY,CAAC,CAElEb,SAAS,CAAC,IAAM,CACd,GAAI,CAACe,aAAa,CAAE,CAClB,KAAM,CAAAI,KAAK,CAAGC,UAAU,CAAC,IAAM,CAC7BN,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,IAAMO,YAAY,CAACF,KAAK,CAAC,CAClC,CACF,CAAC,CAAE,CAACJ,aAAa,CAAED,QAAQ,CAAC,CAAC,CAE7B,GAAI,CAACC,aAAa,CAAE,CAClB,mBACEL,KAAA,QAAKY,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5Bf,IAAA,OAAAe,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBf,IAAA,MAAAe,QAAA,CAAG,sEAEH,CAAG,CAAC,EACD,CAAC,CAEV,CAEA,mBACEb,KAAA,QAAKY,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1Bf,IAAA,CAACF,YAAY,GAAE,CAAC,cAChBE,IAAA,CAACJ,YAAY,GAAE,CAAC,cAChBI,IAAA,CAACH,YAAY,GAAE,CAAC,EACb,CAAC,CAEV,CAEA,cAAe,CAAAM,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}