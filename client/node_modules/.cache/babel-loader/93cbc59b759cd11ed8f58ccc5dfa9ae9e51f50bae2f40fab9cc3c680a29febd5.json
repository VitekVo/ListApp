{"ast":null,"code":"var _jsxFileName = \"/Users/vojtechvitek/Projects/ListApp/client/src/providers/ListDetailProvider.js\",\n  _s = $RefreshSig$();\nimport { createContext, useContext, useState, useEffect } from \"react\";\nimport { UserContext } from \"./UserProvider\";\nimport { useParams } from \"react-router-dom\";\nimport { getList, updateList, manageGuests, createItem, updateItem, deleteItem } from \"./FetchHelper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ListDetailContext = /*#__PURE__*/createContext();\nfunction ListDetailProvider({\n  children\n}) {\n  _s();\n  const {\n    activeList,\n    setActiveList,\n    fetchUsers\n  } = useContext(UserContext);\n  const [theList, setTheList] = useState(\"\");\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    if (!activeList && id) {\n      setActiveList(id);\n    }\n  }, [id, activeList, setActiveList]);\n  useEffect(() => {\n    const fetchList = async () => {\n      if (activeList) {\n        try {\n          const fetchedList = await getList(activeList);\n          setTheList(fetchedList);\n        } catch (error) {\n          console.error(\"Error fetching the list:\", error);\n        }\n      }\n    };\n    fetchList();\n  }, [activeList]);\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n  const changeName = async name => {\n    const listId = activeList;\n    const updateData = {\n      name\n    };\n    try {\n      await updateList(listId, updateData);\n      const fetchedList = await getList(activeList);\n      setTheList(fetchedList);\n    } catch (err) {\n      console.error(\"Error updating list:\", err);\n    }\n  };\n  const manageUsers = async (userId, action) => {\n    const listId = activeList;\n    const updateData = {\n      userId,\n      action\n    };\n    try {\n      await manageGuests(listId, updateData);\n      const fetchedList = await getList(activeList);\n      setTheList(fetchedList);\n    } catch (err) {\n      console.error(\"Error updating list:\", err);\n    }\n  };\n  const addItem = async (itemName, qty) => {\n    const listId = activeList;\n    const updateData = {\n      name: itemName,\n      quantity: qty\n    };\n    try {\n      await createItem(listId, updateData);\n    } catch (err) {\n      console.error(\"Error updating list:\", err);\n    }\n  };\n  const changeItem = async (listId, state) => {\n    const updateData = {\n      archived: state\n    };\n    try {\n      await updateItem(listId, updateData);\n    } catch (err) {\n      console.error(\"Error updating list:\", err);\n    }\n  };\n  const removeItem = async itemId => {\n    try {\n      await deleteItem(listId, itemId);\n    } catch (err) {\n      console.error(\"Error updating list:\", err);\n    }\n  };\n  if (!id || !theList) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"This URL does not exist.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 12\n    }, this);\n  }\n  const value = {\n    theList,\n    changeName,\n    addItem,\n    manageUsers,\n    changeItem,\n    removeItem\n  };\n  return /*#__PURE__*/_jsxDEV(ListDetailContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_s(ListDetailProvider, \"zm0+aOAeSBmhiKDJPyeUNPK49Bw=\", false, function () {\n  return [useParams];\n});\n_c = ListDetailProvider;\nexport default ListDetailProvider;\nvar _c;\n$RefreshReg$(_c, \"ListDetailProvider\");","map":{"version":3,"names":["createContext","useContext","useState","useEffect","UserContext","useParams","getList","updateList","manageGuests","createItem","updateItem","deleteItem","jsxDEV","_jsxDEV","ListDetailContext","ListDetailProvider","children","_s","activeList","setActiveList","fetchUsers","theList","setTheList","id","fetchList","fetchedList","error","console","changeName","name","listId","updateData","err","manageUsers","userId","action","addItem","itemName","qty","quantity","changeItem","state","archived","removeItem","itemId","fileName","_jsxFileName","lineNumber","columnNumber","value","Provider","_c","$RefreshReg$"],"sources":["/Users/vojtechvitek/Projects/ListApp/client/src/providers/ListDetailProvider.js"],"sourcesContent":["import { createContext, useContext, useState, useEffect } from \"react\";\nimport { UserContext } from \"./UserProvider\";\nimport { useParams } from \"react-router-dom\";\n\nimport {\n  getList,\n  updateList,\n  manageGuests,\n  createItem,\n  updateItem,\n  deleteItem,\n} from \"./FetchHelper\";\n\nexport const ListDetailContext = createContext();\n\nfunction ListDetailProvider({ children }) {\n  const { activeList, setActiveList, fetchUsers } = useContext(UserContext);\n  const [theList, setTheList] = useState(\"\");\n  const { id } = useParams();\n\n  useEffect(() => {\n    if (!activeList && id) {\n      setActiveList(id);\n    }\n  }, [id, activeList, setActiveList]);\n\n  useEffect(() => {\n    const fetchList = async () => {\n      if (activeList) {\n        try {\n          const fetchedList = await getList(activeList);\n          setTheList(fetchedList);\n        } catch (error) {\n          console.error(\"Error fetching the list:\", error);\n        }\n      }\n    };\n\n    fetchList();\n  }, [activeList]);\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const changeName = async (name) => {\n    const listId = activeList;\n    const updateData = { name };\n    try {\n      await updateList(listId, updateData);\n      const fetchedList = await getList(activeList);\n      setTheList(fetchedList);\n    } catch (err) {\n      console.error(\"Error updating list:\", err);\n    }\n  };\n\n  const manageUsers = async (userId, action) => {\n    const listId = activeList;\n    const updateData = { userId, action };\n    try {\n      await manageGuests(listId, updateData);\n      const fetchedList = await getList(activeList);\n      setTheList(fetchedList);\n    } catch (err) {\n      console.error(\"Error updating list:\", err);\n    }\n  };\n\n  const addItem = async (itemName, qty) => {\n    const listId = activeList;\n    const updateData = { name: itemName, quantity: qty };\n    try {\n      await createItem(listId, updateData);\n    } catch (err) {\n      console.error(\"Error updating list:\", err);\n    }\n  };\n\n  const changeItem = async (listId, state) => {\n    const updateData = { archived: state };\n    try {\n      await updateItem(listId, updateData);\n    } catch (err) {\n      console.error(\"Error updating list:\", err);\n    }\n  };\n\n  const removeItem = async (itemId) => {\n    try {\n      await deleteItem(listId, itemId);\n    } catch (err) {\n      console.error(\"Error updating list:\", err);\n    }\n  };\n\n  if (!id || !theList) {\n    return <p>This URL does not exist.</p>;\n  }\n\n  const value = {\n    theList,\n    changeName,\n    addItem,\n    manageUsers,\n    changeItem,\n    removeItem,\n  };\n\n  return (\n    <ListDetailContext.Provider value={value}>\n      {children}\n    </ListDetailContext.Provider>\n  );\n}\n\nexport default ListDetailProvider;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}