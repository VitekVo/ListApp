{"ast":null,"code":"import React,{useContext,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{UserContext}from\"../../providers/UserProvider\";import{ListOverviewContext}from\"../../providers/ListOverviewProvider\";import Modal from\"../modalsforms/Modal\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function List(_ref){var _userList$find;let{list}=_ref;const navigate=useNavigate();const{setActiveList,loggedInUser,userList}=useContext(UserContext);const{archiveList}=useContext(ListOverviewContext);const[showModal,setShowModal]=useState(false);const[formType,setFormType]=useState(null);const totalItems=list.items.length;const checkedItems=list.items.filter(item=>item.checked).length;const handleClick=listID=>{setActiveList(listID);navigate(`/detail/${listID}`);};const openModal=type=>{setFormType(type);setShowModal(true);};const closeModal=()=>setShowModal(false);return/*#__PURE__*/_jsxs(\"div\",{className:\"list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"list-content\",onClick:()=>handleClick(list.id),children:[/*#__PURE__*/_jsx(\"h3\",{children:list.name}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"Host: \",(_userList$find=userList.find(user=>user.id===list.host))===null||_userList$find===void 0?void 0:_userList$find.name]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"Items checked off: \",checkedItems,\"/\",totalItems]})]}),loggedInUser===list.host&&/*#__PURE__*/_jsxs(\"div\",{className:\"list-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();archiveList(list.id);},className:\"btn btn-warning\",children:list.archived===true?\"Un-archive\":\"Archive\"}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();setActiveList(list.id);openModal(\"deleteList\");},className:\"btn btn-danger\",children:\"Delete\"})]}),showModal&&/*#__PURE__*/_jsx(Modal,{onClose:closeModal,formType:formType})]});}export default List;","map":{"version":3,"names":["React","useContext","useState","useNavigate","UserContext","ListOverviewContext","Modal","jsx","_jsx","jsxs","_jsxs","List","_ref","_userList$find","list","navigate","setActiveList","loggedInUser","userList","archiveList","showModal","setShowModal","formType","setFormType","totalItems","items","length","checkedItems","filter","item","checked","handleClick","listID","openModal","type","closeModal","className","children","onClick","id","name","find","user","host","e","stopPropagation","archived","onClose"],"sources":["/Users/vojtechvitek/Projects/ListApp/client/src/components/list_overview/List.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { UserContext } from \"../../providers/UserProvider\";\nimport { ListOverviewContext } from \"../../providers/ListOverviewProvider\";\nimport Modal from \"../modalsforms/Modal\";\n\nfunction List({ list }) {\n  const navigate = useNavigate();\n  const { setActiveList, loggedInUser, userList } = useContext(UserContext);\n  const { archiveList } = useContext(ListOverviewContext);\n  const [showModal, setShowModal] = useState(false);\n  const [formType, setFormType] = useState(null);\n  const totalItems = list.items.length;\n  const checkedItems = list.items.filter((item) => item.checked).length;\n\n  const handleClick = (listID) => {\n    setActiveList(listID);\n    navigate(`/detail/${listID}`);\n  };\n\n  const openModal = (type) => {\n    setFormType(type);\n    setShowModal(true);\n  };\n\n  const closeModal = () => setShowModal(false);\n\n  return (\n    <div className=\"list\">\n      <div className=\"list-content\" onClick={() => handleClick(list.id)}>\n        <h3>{list.name}</h3>\n        <h5>Host: {userList.find((user) => user.id === list.host)?.name}\n        </h5>\n        <h5>Items checked off: {checkedItems}/{totalItems}</h5>\n      </div>\n      {loggedInUser === list.host && (\n        <div className=\"list-actions\">\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              archiveList(list.id);\n            }}\n            className=\"btn btn-warning\"\n          >\n            {list.archived === true ? \"Un-archive\" : \"Archive\"}\n          </button>\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              setActiveList(list.id);\n              openModal(\"deleteList\");\n            }}\n            className=\"btn btn-danger\"\n          >\n            Delete\n          </button>\n        </div>\n      )}\n      {showModal && <Modal onClose={closeModal} formType={formType} />}\n    </div>\n  );\n}\n\nexport default List;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}