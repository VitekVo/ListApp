{"ast":null,"code":"import React,{useState,useContext}from\"react\";import{ListOverviewContext}from\"../../providers/ListOverviewProvider\";import{UserContext}from\"../../providers/UserProvider\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateList=_ref=>{let{onClose}=_ref;const{createList}=useContext(ListOverviewContext);const{userList,loggedInUser}=useContext(UserContext);const[listName,setListName]=useState(\"\");const[guestInput,setGuestInput]=useState(\"\");const[errorMessage,setErrorMessage]=useState(\"\");const handleSubmit=e=>{e.preventDefault();const guestList=guestInput.split(\",\").map(id=>id.trim()).filter(id=>id!==\"\");const isValidGuestList=guestList.every(guestId=>userList.some(user=>user.id===guestId));if(guestList.includes(loggedInUser)){setErrorMessage(\"As an owner, you can not be on the guest list.\");}else if(!isValidGuestList){setErrorMessage(\"Some IDs are invalid.\");}else if(isValidGuestList||guestList.length()===0){createList(listName,loggedInUser,guestList);setListName(\"\");setGuestInput(\"\");setErrorMessage(\"\");onClose();}else{setErrorMessage(\"Something went wrong.\");}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"list-name\",className:\"formGroupName\",children:\"Enter name for your list\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"list-name\",name:\"listName\",className:\"form-control\",value:listName,onChange:e=>setListName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"guest-input\",className:\"formGroupID\",children:\"Enter IDs of users you want to invite\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"guest-input\",name:\"guestInput\",className:\"form-control\",placeholder:\"e.g., u1, u2, u3,...\",value:guestInput,onChange:e=>setGuestInput(e.target.value)})]}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errorMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Create list\"})]});};export default CreateList;","map":{"version":3,"names":["React","useState","useContext","ListOverviewContext","UserContext","jsx","_jsx","jsxs","_jsxs","CreateList","_ref","onClose","createList","userList","loggedInUser","listName","setListName","guestInput","setGuestInput","errorMessage","setErrorMessage","handleSubmit","e","preventDefault","guestList","split","map","id","trim","filter","isValidGuestList","every","guestId","some","user","includes","length","onSubmit","children","className","htmlFor","type","name","value","onChange","target","required","placeholder"],"sources":["/Users/vojtechvitek/Projects/ListApp/client/src/components/modalsforms/CreateListForm.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { ListOverviewContext } from \"../../providers/ListOverviewProvider\";\nimport { UserContext } from \"../../providers/UserProvider\";\n\nconst CreateList = ({ onClose }) => {\n  const { createList } = useContext(ListOverviewContext);\n  const { userList, loggedInUser } = useContext(UserContext);\n  const [listName, setListName] = useState(\"\");\n  const [guestInput, setGuestInput] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const guestList = guestInput.split(\",\").map((id) => id.trim()).filter((id) => id !== \"\");\n    const isValidGuestList = guestList.every((guestId) =>\n      userList.some((user) => user.id === guestId)\n  );\n    if (guestList.includes(loggedInUser)) {\n      setErrorMessage(\"As an owner, you can not be on the guest list.\");\n    }\n    else if (!isValidGuestList) {\n      setErrorMessage(\"Some IDs are invalid.\");\n    }\n    else if (isValidGuestList || (guestList.length()===0)){\n      createList(listName, loggedInUser, guestList);\n      setListName(\"\");\n      setGuestInput(\"\");\n      setErrorMessage(\"\");\n      onClose();\n    }\n    else {\n      setErrorMessage(\"Something went wrong.\")\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label htmlFor=\"list-name\" className=\"formGroupName\">\n          Enter name for your list\n        </label>\n        <input\n          type=\"text\"\n          id=\"list-name\"\n          name=\"listName\"\n          className=\"form-control\"\n          value={listName}\n          onChange={(e) => setListName(e.target.value)}\n          required\n        />\n      </div>\n  \n      <div className=\"form-group\">\n        <label htmlFor=\"guest-input\" className=\"formGroupID\">\n          Enter IDs of users you want to invite\n        </label>\n        <input\n          type=\"text\"\n          id=\"guest-input\" \n          name=\"guestInput\" \n          className=\"form-control\"\n          placeholder=\"e.g., u1, u2, u3,...\"\n          value={guestInput}\n          onChange={(e) => setGuestInput(e.target.value)}\n        />\n      </div>\n  \n      {errorMessage && <p className=\"text-danger\">{errorMessage}</p>}\n  \n      <button type=\"submit\" className=\"btn btn-primary\">\n        Create list\n      </button>\n    </form>\n  );\n  \n};\n\nexport default CreateList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}